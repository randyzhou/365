!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var a=t();for(var r in a)("object"==typeof exports?exports:e)[r]=a[r]}}(window,function(){return function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){e.exports=a(1)},function(e,t,a){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}a.r(t);var o=function(e){function t(e){var a,n,i,o,s,d;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=l(t).call(this,e),a=!i||"object"!==r(i)&&"function"!=typeof i?c(n):i,o=c(a),d=function(e){backurl_user=a.props.backurl,touchEnd("#/users/detail/"+e)},(s="userDetail")in o?Object.defineProperty(o,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[s]=d,a}var a,o,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(t,React.Component),a=t,(o=[{key:"render",value:function(){if(!this.props.item)return null;var e=this.props.item,t=e.userbirthday?e.userbirthday.replace(/\-/g,"/"):null,a=e.intro?e.intro.replace(/<\/?.+?>/g,"").replace(/&nbsp;/gi,"").replace(/&lt;BR&gt;/gi,""):e.intro,r=1==e.usersex?"dimgray":"tomato",n=e.occupation?e.occupation.replace(/<\/?.+?>/g,"").replace(/&nbsp;/gi,"").replace(/&lt;BR&gt;/gi,""):e.occupation,l=e.duty?e.duty.replace(/<\/?.+?>/g,"").replace(/&nbsp;/gi,"").replace(/&lt;BR&gt;/gi,""):e.duty,c=e.avatar?e.avatar:e.userid,i="";latitude_reg&&longitude_reg&&e.latitude_reg&&e.longitude_reg&&(i="（距离"+getGreatCircleDistance(latitude_reg,longitude_reg,e.latitude_reg,e.longitude_reg)+"米）");return React.createElement("table",{style:{width:"100%",height:"100%"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{paddingLeft:"5px",paddingTop:"5px",paddingBottom:"0px",color:r,fontSize:18,borderBottom:"1px solid #F6F6F6"}},React.createElement("table",{style:{width:"100%"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{width:"50px",verticalAlign:"top"}},React.createElement("img",{style:{width:"40px",height:"40px",borderRadius:"20px"},src:thumbUrl+"/topuserphotos/"+c+".jpg"})),React.createElement("td",{style:{verticalAlign:"top"}},React.createElement("div",{style:{maxWidth:"350px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},React.createElement("span",{onTouchEnd:this.userDetail.bind(this,e.userid),style:{fontSize:"16px"}},e.username.slice(0,5)),React.createElement("br",null),React.createElement("span",{style:{color:"#999",fontSize:"12px"}},(new Date).getFullYear()-new Date(t).getFullYear()+1,"岁",!e.education||"-",e.education,!n||"-",n,!l||"-",l?l.slice(0,6):"",!e.marry||"-",e.marry,!e.lookingfor||"-",e.lookingfor,"-",e.friend_amount,"元")))))))),React.createElement("tr",null,React.createElement("td",{style:{verticalAlign:"top"}},React.createElement("table",{style:{width:"100%",height:"100%"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{verticalAlign:"top",padding:"5px"}},React.createElement("div",{style:{wordBreak:"break-all"}},a))),React.createElement("tr",{style:{height:"35px"}},React.createElement("td",null,React.createElement("table",{style:{width:"100%",height:"35px"}},React.createElement("tbody",null,React.createElement("tr",{style:{height:"35px"}},React.createElement("td",{style:{textAlign:"left",color:"#999",fontSize:"12px"}},React.createElement("span",{style:{marginLeft:"5px"}},e.workprovince,e.workcity,e.workdistrict,e.worktown,e.workstreet),React.createElement("span",null,i))))))))))),React.createElement("tr",{style:{backgroundColor:"#F5F5F9",height:8,borderTop:"1px solid #ECECED",borderBottom:"1px solid #ECECED"}},React.createElement("td",{colSpan:"2"}))))}}])&&n(a.prototype,o),s&&n(a,s),t}();function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var f=function(e){function t(e){var a,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=u(t).call(this,e),a=!n||"object"!==s(n)&&"function"!=typeof n?m(r):n,p(m(a),"handleSearch",function(e,t){a.setState({p:0,searchDivShow:"none",searchFlag:1},function(){return a.setState({searchFlag:0})})}),p(m(a),"showSearchDiv",function(e){e.stopPropagation();var t="table-row"==a.state.searchDivShow?"none":"table-row",r=a.state.searchData;"table-row"==t&&(r={}),a.setState({searchDivShow:t,searchData:r})}),p(m(a),"handleChange",function(e,t,r){var n=Object.assign({},a.state.searchData);n[e]=t||"","distance"==e&&(n.latitude_reg=latitude_reg,n.longitude_reg=longitude_reg),a.setState({searchData:n})}),p(m(a),"handleSelectChange",function(e,t){var r=a.state.searchData,n=t[0];r[e]=n,"distance"==e&&(r.latitude_reg=latitude_reg,r.longitude_reg=longitude_reg),a.setState({searchData:r})}),p(m(a),"handleLocationSearch",function(){var e=m(a),t={};t.latitude_reg=latitude_reg,t.longitude_reg=longitude_reg,t.distance="1000",a.setState({searchData:t},function(){e.handleSearch()})}),p(m(a),"showAll",function(){a.setState({})}),p(m(a),"touchStart",function(e){if(e.stopPropagation(),e.touches.length){var t=Object.assign({},a.state.slides);t.startX=e.touches[0].pageX,t.moveX=0,a.setState({slides:t})}}),p(m(a),"touchMove",function(e){if(e.stopPropagation(),e.touches.length){var t=Object.assign({},a.state.slides),r=e.touches[0].pageX-t.startX;t.moveX=r,r<-100&&(location.href="#/news"),r>100&&(location.href="#/stores"),r>100&&(location.href="#/stores")}}),p(m(a),"handleStart",function(e){e.stopPropagation()}),p(m(a),"handleMove",function(e){e.stopPropagation()}),a.state={searchDivShow:"none",searchData:{},searchFlag:0},a}var a,r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,React.Component),a=t,(r=[{key:"componentDidMount",value:function(){}},{key:"handleAgeSelectChange",value:function(e){var t=this.state.searchData;e.minage&&e.minage!=t.minage&&(t.minage=e.minage),e.maxage&&e.maxage!=t.maxage&&(t.maxage=e.maxage),this.setState({searchData:t})}},{key:"handleAreaSelectChange",value:function(e){var t=this.state.searchData;e.homeprovince&&e.homeprovince!=t.homeprovince&&(t.homeprovince=e.homeprovince),e.homecity&&e.homecity!=t.homecity&&(t.homecity=e.homecity),e.workprovince&&e.workprovince!=t.workprovince&&(t.workprovince=e.workprovince),e.workcity&&e.workcity!=t.workcity&&(t.workcity=e.workcity),e.workdistrict&&e.workdistrict!=t.workdistrict&&(t.workdistrict=e.workdistrict),this.setState({searchData:t})}},{key:"render",value:function(){var e=this;setTitle("会员列表");for(var t=[{label:"最小年龄",value:""}],a=15;a<66;a++)t.push({label:a,value:a});for(var r=[{label:"最大年龄",value:""}],n=15;n<66;n++)r.push({label:n,value:n});var l=[t,r],c=[this.state.searchData.homeprovince,this.state.searchData.homecity],i=[this.state.searchData.workprovince,this.state.searchData.workcity,this.state.searchData.workdistrict];return React.createElement("div",{style:{width:"100%",height:"100%"},onTouchStart:this.touchStart,onTouchMove:this.touchMove},React.createElement("table",{style:{width:"100%",height:"100%"}},React.createElement("tbody",null,React.createElement("tr",{style:{height:"43px"}},React.createElement("td",null,React.createElement(Maintop,null))),React.createElement("tr",{style:{height:"43px"}},React.createElement("td",null,React.createElement("table",{style:{width:"100%",backgroundColor:"white"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{width:"80px",textAlign:"center"}},React.createElement("span",{style:{marginRight:"5px",display:"none"==this.state.searchDivShow?"none":""},onTouchEnd:this.showSearchDiv},"收起  "),React.createElement("span",{style:{marginRight:"5px",display:"none"==this.state.searchDivShow?"":"none"},onTouchEnd:this.showAll},"所有  ")),React.createElement("td",{style:{textAlign:"center"},onClick:this.showSearchDiv},React.createElement("div",{style:{borderRadius:"3px",width:"100%",height:"40px",lineHeight:"40px"}},"搜索")),React.createElement("td",{style:{width:"80px",textAlign:"center"},onTouchEnd:this.handleLocationSearch},"附近")))))),React.createElement("tr",null,React.createElement("td",{style:{overflowY:"scroll",verticalAlign:"top"}},React.createElement(Listall,{apiurl:Config.api+"user/list",hashurl:"#/users",backurl:"#/users",searchData:this.state.searchData,item:o,searchFlag:this.state.searchFlag}))),React.createElement("tr",null,React.createElement("td",{style:{height:"40px"}},React.createElement(Mainbottom,null))))),React.createElement("div",{style:{position:"fixed",zIndex:"1",top:"0px",width:"100%",height:"95%",backgroundColor:"white",margin:"0 auto",display:this.state.searchDivShow},onTouchStart:this.handleStart,onTouchMove:this.handleMove},React.createElement("table",{style:{width:"100%",height:"100%",backgroundColor:"white",margin:"0 auto"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{borderBottom:"1px #ccc solid",padding:"5px",textAlign:"center",backgroundColor:"darkseagreen",height:"40px"}},React.createElement("table",{className:"searchTable",style:{width:"100%",height:"40px"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{textAlign:"left",backgroundColor:"white",borderRadius:"5px"}},React.createElement(InputItem,{type:"text",style:{textAlign:"left",color:"#888"},placeholder:"会员id或会员名",error:this.state.hasError,onErrorClick:this.onErrorClick,onChange:this.handleChange.bind(this,"keywords"),value:this.state.searchData.keywords||""},React.createElement("span",{style:{marginRight:"30px"}},React.createElement(Icon,{type:"left",onTouchEnd:this.showSearchDiv})))),React.createElement("td",{style:{width:"60px",color:"white",textAlign:"center"},onClick:this.handleSearch.bind(this,1)},"搜索")))))),React.createElement("tr",null,React.createElement("td",null,React.createElement("div",{style:{height:"100%",overflowY:"auto"}},React.createElement(List,{style:{backgroundColor:"white"},className:"picker-list"},React.createElement(Picker,{data:[[{label:"",value:""},{label:"男",value:1},{label:"女",value:2}]],title:"选择性别",cascade:!1,extra:"请选择",value:[this.state.searchData.usersex||""],onChange:this.handleSelectChange.bind(this,"usersex")},React.createElement(List.Item,{arrow:"horizontal"},"性别"))),React.createElement(List,{style:{backgroundColor:"white"},className:"picker-list"},React.createElement(Picker,{title:"年龄范围",data:l,value:[this.state.searchData.minage||"",this.state.searchData.maxage||""],cascade:!1,onOk:function(t){return e.handleAgeSelectChange({minage:t[0],maxage:t[1]})}},React.createElement(List.Item,{arrow:"horizontal"},"年龄范围"))),React.createElement(List,{style:{backgroundColor:"white"},className:"picker-list"},React.createElement(Picker,{data:[[{label:"",value:""},{label:"级别排序",value:"certified"},{label:"注册顺排",value:"joinfirst"},{label:"注册倒排",value:"joinlast"}]],title:"级别排序",cascade:!1,extra:"请选择",value:[this.state.searchData.order||""],onChange:this.handleSelectChange.bind(this,"order")},React.createElement(List.Item,{arrow:"horizontal"},"显示排序"))),React.createElement(List,{style:{backgroundColor:"white"},className:"picker-list"},React.createElement(Picker,{title:"家乡籍贯",data:homeAntdDistrict,value:c,onOk:function(t){return e.handleAreaSelectChange({homeprovince:t[0],homecity:t[1]})}},React.createElement(List.Item,{arrow:"horizontal"},"家乡籍贯"))),React.createElement(List,{style:{backgroundColor:"white"},className:"picker-list"},React.createElement(Picker,{title:"常住市区",data:workAntdDistrict,value:i,onOk:function(t){return e.handleAreaSelectChange({workprovince:t[0],workcity:t[1],workdistrict:t[2]})}},React.createElement(List.Item,{arrow:"horizontal"},"常住市区"))),React.createElement(List,{style:{backgroundColor:"white"},className:"picker-list"},React.createElement(InputItem,{type:"text",style:{textAlign:"right",color:"#888"},placeholder:"街道社区",error:this.state.hasError,onErrorClick:this.onErrorClick,onChange:this.handleChange.bind(this,"town"),value:this.state.searchData.town||""},"街道办镇")),React.createElement(List,{style:{backgroundColor:"white"},className:"picker-list"},React.createElement(Picker,{data:[[{label:"",value:""},{label:"保留",value:"保留"},{label:"单身",value:"单身"},{label:"已婚",value:"已婚"},{label:"离异",value:"离异"},{label:"非单身",value:"非单身"}]],title:"感情状态",cascade:!1,extra:"请选择",value:[this.state.searchData.marry||""],onChange:this.handleSelectChange.bind(this,"marry")},React.createElement(List.Item,{arrow:"horizontal"},"感情状态"))),React.createElement(List,{style:{backgroundColor:"white"},className:"picker-list"},React.createElement(Picker,{data:[[{label:"",value:""},{label:"白羊座",value:"白羊座"},{label:"金牛座",value:"金牛座"},{label:"双子座",value:"双子座"},{label:"巨蟹座",value:"巨蟹座"},{label:"狮子座",value:"狮子座"},{label:"处女座",value:"处女座"},{label:"天秤座",value:"天秤座"},{label:"天蝎座",value:"天蝎座"},{label:"射手座",value:"射手座"},{label:"摩羯座",value:"摩羯座"},{label:"水瓶座",value:"水瓶座"},{label:"双鱼座",value:"双鱼座"}]],title:"星座",cascade:!1,extra:"请选择",value:[this.state.searchData.constellation||""],onChange:this.handleSelectChange.bind(this,"constellation")},React.createElement(List.Item,{arrow:"horizontal"},"星座"))),React.createElement(List,{style:{backgroundColor:"white"},className:"picker-list"},React.createElement(Picker,{data:[[{label:"",value:""},{label:"共产主义",value:"共产主义"},{label:"基督教",value:"基督教"},{label:"伊斯兰教",value:"伊斯兰教"},{label:"道教",value:"道教"},{label:"佛教",value:"佛教"},{label:"儒教",value:"儒教"},{label:"其它",value:"其它"}]],title:"宗教信仰",cascade:!1,extra:"请选择",value:[this.state.searchData.believe||""],onChange:this.handleSelectChange.bind(this,"believe")},React.createElement(List.Item,{arrow:"horizontal"},"宗教信仰"))),React.createElement(List,{style:{backgroundColor:"white"},className:"picker-list"},React.createElement(Picker,{data:[[{label:"",value:""},{label:"找异性对象",value:"找异性对象"},{label:"找兴趣伙伴",value:"找兴趣伙伴"},{label:"找商业合作",value:"找商业合作"},{label:"找创业同志",value:"找创业同志"},{label:"找专业人才",value:"找专业人才"}]],title:"请选择",cascade:!1,extra:"请选择",value:[this.state.searchData.lookingfor||""],onChange:this.handleSelectChange.bind(this,"lookingfor")},React.createElement(List.Item,{arrow:"horizontal"},"交友目的"))),React.createElement(List,{style:{backgroundColor:"white"},className:"picker-list"},React.createElement(Picker,{data:[[{label:"",value:""},{label:"初中",value:"初中"},{label:"高中",value:"高中"},{label:"中专",value:"中专"},{label:"大专",value:"大专"},{label:"本科",value:"本科"},{label:"硕士",value:"硕士"},{label:"博士",value:"博士"}]],title:"学历",cascade:!1,extra:"请选择",value:[this.state.searchData.education||""],onChange:this.handleSelectChange.bind(this,"education")},React.createElement(List.Item,{arrow:"horizontal"},"最高学历"))),React.createElement(List,{style:{backgroundColor:"white"},className:"picker-list"},React.createElement(InputItem,{type:"text",style:{textAlign:"right",color:"#888"},placeholder:"毕业院校",error:this.state.hasError,onErrorClick:this.onErrorClick,onChange:this.handleChange.bind(this,"school"),value:this.state.searchData.school||""},"毕业院校")),React.createElement(List,{style:{backgroundColor:"white"},className:"picker-list"},React.createElement(InputItem,{type:"text",style:{textAlign:"right",color:"#888"},placeholder:"职业",error:this.state.hasError,onErrorClick:this.onErrorClick,onChange:this.handleChange.bind(this,"occupation"),value:this.state.searchData.occupation||""},"从事行业")),React.createElement(List,{style:{backgroundColor:"white"},className:"picker-list"},React.createElement(InputItem,{type:"text",style:{textAlign:"right",color:"#888"},placeholder:"头衔",error:this.state.hasError,onErrorClick:this.onErrorClick,onChange:this.handleChange.bind(this,"jobtitle"),value:this.state.searchData.jobtitle||""},"工作职务")),React.createElement(List,{style:{backgroundColor:"white"},className:"picker-list"},React.createElement(InputItem,{type:"text",style:{textAlign:"right",color:"#888"},placeholder:"期望行业",error:this.state.hasError,onErrorClick:this.onErrorClick,onChange:this.handleChange.bind(this,"likearea"),value:this.state.searchData.likearea||""},"期望行业")),React.createElement(List,{style:{backgroundColor:"white"},className:"picker-list"},React.createElement(InputItem,{type:"text",style:{textAlign:"right",color:"#888"},placeholder:"兴趣社团",error:this.state.hasError,onErrorClick:this.onErrorClick,onChange:this.handleChange.bind(this,"club"),value:this.state.searchData.club||""},"兴趣社团")),React.createElement(List,{style:{backgroundColor:"white"},className:"picker-list"},React.createElement(InputItem,{type:"text",style:{textAlign:"right",color:"#888"},placeholder:"兴趣活动",error:this.state.hasError,onErrorClick:this.onErrorClick,onChange:this.handleChange.bind(this,"act"),value:this.state.searchData.act||""},"兴趣活动")),React.createElement(List,{style:{backgroundColor:"white"},className:"picker-list"},React.createElement(Picker,{data:[[{label:"",value:""},{label:"1000",value:"1000"},{label:"2000",value:"2000"},{label:"3000",value:"3000"},{label:"4000",value:"4000"},{label:"5000",value:"5000"},{label:"6000",value:"6000"},{label:"7000",value:"7000"},{label:"8000",value:"8000"},{label:"9000",value:"9000"},{label:"10000",value:"10000"},{label:"11000",value:"11000"},{label:"12000",value:"12000"}]],title:"附近距离",cascade:!1,extra:"请选择",value:[this.state.searchData.distance||""],onChange:this.handleSelectChange.bind(this,"distance")},React.createElement(List.Item,{arrow:"horizontal"},"附近距离")))))),React.createElement("tr",null,React.createElement("td",{style:{height:"30px"}},React.createElement(Button,{type:"primary",style:{width:"100%",position:"fixed",bottom:"0px",borderRadius:"0px"},onClick:this.handleSearch},"搜索")))))))}}])&&d(a.prototype,r),n&&d(a,n),t}();function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var w=function(e){function t(e){var a,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=E(t).call(this,e),a=!n||"object"!==b(n)&&"function"!=typeof n?R(r):n,v(R(a),"historyBack",function(){history.back()}),v(R(a),"addToFriend",function(e){console.log(e);var t=a.state.user.friend_amount||0;alertMsg("您将支付"+t+"元加好友费给对方<br/>同意点确定，不同意点取消。",1,function(){fetchApi({url:Config.api+"friend/add",method:"POST",body:{userid1:e}},function(e){1==e.friend?(this.setState({friend:e.friend}),resultAlert(e)):alertMsg(e)}.bind(this))}.bind(R(a)))}),v(R(a),"deleteFromFriend",function(e){alertMsg("确定解除好友关系吗？",1,function(){fetchApi({url:Config.api+"friend/delete",method:"POST",body:{userid1:e}},function(e){this.setState({friend:e.friend}),resultAlert(e)}.bind(this))}.bind(R(a)))}),v(R(a),"showPostRetweet",function(){if(a.state.user.userid!=userid)if("block"!=a.state.showRetweetDiv){var e=Config.api+"retweet/checkretweet?ownerid="+a.props.id+"&typeid=3";fetchApi({url:e},function(e){if(!isJson(e))return errMessage("","服务器文件错误！"),!1;2==e.result?this.setState({showRetweetDiv:"block"}):resultAlert(e)}.bind(R(a)))}else a.setState({showRetweetDiv:"none"});else resultAlert("不能转推自己")}),v(R(a),"handleChangeRetweetContent",function(e){a.setState({retweetcontent:e.target.value})}),v(R(a),"sendRetweet",function(){if(a.state.user.userid!=userid){if(a.setState({showRetweetDiv:"none"}),a.state.retweetcontent){var e=Config.api+"retweet/create";fetchApi({url:e,method:"POST",body:{content:a.state.retweetcontent,ownerid:a.props.id,typeid:3}},function(e){if(!isJson(e))return errMessage("","服务器文件错误！"),!1;resultAlert(e)}.bind(R(a)))}}else resultAlert("不能转推自己")}),v(R(a),"detailStart",function(e){if(e.stopPropagation(),e.touches.length){var t=Object.assign({},a.state.slides);t.startX=e.touches[0].pageX;var r=document.body.clientWidth;t.moveX=0,t.pert=0,a.setState({slides:t,cliW:r})}}),v(R(a),"detailMove",function(e){if(e.stopPropagation(),e.touches.length){var t=Object.assign({},a.state.slides),r=e.touches[0].pageX-t.startX;t.moveX=r,r>40&&(t.pert=r/2,a.setState({slides:t}))}}),v(R(a),"detailEnd",function(e){e.stopPropagation();var t=Object.assign({},a.state.slides);t.pert>50?backurl_user?location.href=backurl_user:history.back():t.pert=0,t.moveX=0,a.setState({slides:t})}),a.state={id:a.props.id,user:{},showRetweetDiv:"none",slides:{pert:100,startX:0,moveX:0},cliW:document.body.clientWidth},a}var a,r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,React.Component),a=t,(r=[{key:"componentDidMount",value:function(){this.props.id&&fetchApi({url:Config.api+"user/view?id="+this.props.id},function(e){if(!isJson(e))return errMessage("","服务器文件错误！"),!1;if(200==e.status){var t=parseInt(window.screen.width)>450?450:parseInt(window.screen.width)-1;this.setState({phoneWidth:t,user:e.data,friend:e.friend})}else errMessage(e)}.bind(this))}},{key:"render",value:function(){var e=this,t=this.state.user;setTitle(t.username);var a=null;if(t.userid){var r=photoUrl+"/topuserphotos/"+t.userid+".jpg";a=React.createElement(Img,{id:"userLogo",style:{width:this.state.phoneWidth},src:r})}var n="0"==this.state.friend?"inline-block":"none",l="1"==this.state.friend?"inline-block":"none";return React.createElement("table",{style:{width:"100%",height:"100%"},onTouchStart:this.detailStart,onTouchEnd:this.detailEnd,onTouchMove:this.detailMove},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{height:"30px"}},React.createElement(Usernav,{user:t}))),React.createElement("tr",null,React.createElement("td",{style:{verticalAlign:"top"}},React.createElement("table",{style:{width:"100%"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{width:"100%"}},a)))),React.createElement(List,{renderHeader:function(){return React.createElement("div",{style:{width:"100%",height:"30px",lineHeight:"30px",display:"inline-block"}},React.createElement("span",{style:{float:"left"}},"基本资料(",t.friend_amount,"元)"),React.createElement("span",{style:{color:"darkgreen",display:n,float:"right",border:"1px solid darkgreen",width:"60px",textAlign:"center",height:"25px",lineHeight:"25px",borderRadius:"10px"},onTouchEnd:e.addToFriend.bind(e,t.userid)},"加为好友"),React.createElement("span",{style:{color:"darkred",display:l,float:"right",border:"1px solid darkred",width:"60px",textAlign:"center",height:"25px",lineHeight:"25px",borderRadius:"10px"},onTouchEnd:e.deleteFromFriend.bind(e,t.userid)},"删除好友"),React.createElement("span",{style:{color:"darkred",display:l,float:"right",border:"1px solid darkred",width:"60px",textAlign:"center",height:"25px",lineHeight:"25px",borderRadius:"10px",marginRight:"5px"},onTouchEnd:e.showPostRetweet.bind(e,t.userid)},"推荐好友"))},className:"my-list"},React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"性别"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},1==t.usersex?"男":"女")),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"出生"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.userbirthday)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"血型"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.bloodtype)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"星座"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.constellation)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"感情状态"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.marry)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"籍贯"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.homeprovince,t.homecity)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"居住地"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.workprovince,t.workcity,t.workdistrict,t.worktown,t.workstreet)),React.createElement("td",{className:"last_td"}))))),React.createElement(List,{renderHeader:function(){return"教育程度"},className:"my-list"},React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"毕业院校"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.school)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"最高学历"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.education)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"所学专业"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.specialist)),React.createElement("td",{className:"last_td"}))))),React.createElement(List,{renderHeader:function(){return"工作名片"},className:"my-list"},React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"公司名称"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.companyname)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"真名职务"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.realname,t.duty)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"联系地址"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.companyaddress)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"公司电话"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.companytel)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"公司网址"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div",onTouchEnd:touchEnd.bind(this,"http://"+t.url)},t.url)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"公司简介"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.companykeywords)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"职务级别"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.jobtitle)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"工作职责"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.occupation)),React.createElement("td",{className:"last_td"}))))),React.createElement(List,{renderHeader:function(){return"事业发展"},className:"my-list"},React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"职业技能"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.advantage)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"语言技能"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.languages)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"工作经历"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div",style:{wordBreak:"break-all"}},t.workexperience)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"行业方向"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.likearea)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"理想职务"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.idealjob)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"进修技能"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.needskills)),React.createElement("td",{className:"last_td"}))))),React.createElement(List,{renderHeader:function(){return"个性特征"},className:"my-list"},React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"性格脾气"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.character)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"饮食习惯"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.tasts)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"阅读偏好"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.reading)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"爱好研究"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.lovestudy)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"欣赏品质"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.lovecharacter)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"拒绝忍受"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.rejectcharacter)),React.createElement("td",{className:"last_td"}))))),React.createElement(List,{renderHeader:function(){return"思想观念"},className:"my-list"},React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"世界观"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.believe)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"人生观"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.lifeview)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"价值观"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.valueview)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"金钱观"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.moneyview)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"事业观"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.workingview)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"朋友观"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.friendview)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"家庭观"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.familyview)),React.createElement("td",{className:"last_td"}))))),React.createElement(List,{renderHeader:function(){return"社交倾向"},className:"my-list"},React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"交友目的"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.lookingfor)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"兴趣社团"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.club)),React.createElement("td",{className:"last_td"})))),React.createElement("table",{className:"user_detail_table"},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"first_td"}),React.createElement("td",{className:"second_td"},"兴趣活动"),React.createElement("td",{className:"third_td"},React.createElement("div",{className:"user_detail_div"},t.act)),React.createElement("td",{className:"last_td"}))))),React.createElement(List,{renderHeader:function(){return"个人介绍"},className:"my-list"},React.createElement("div",{style:v({width:"95%",wordBreak:"break-all",fontSize:"17px",color:"#888",padding:"10px"},"wordBreak","break-all")},t.intro?t.intro:"无")),React.createElement(Postretweet,{showRetweetDiv:this.state.showRetweetDiv,retweetcontent:this.state.retweetcontent,handleChangeRetweetContent:this.handleChangeRetweetContent,hidePostRetweet:this.showPostRetweet,sendRetweet:this.sendRetweet})))))}}])&&y(a.prototype,r),n&&y(a,n),t}();function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=function(e){function t(e){var a,r,n,l,c,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=N(t).call(this,e),a=!n||"object"!==_(n)&&"function"!=typeof n?k(r):n,l=k(a),i=function(){backurl_user="#/users/main/"+a.props.item.userid,touchEnd("#/stores/main/"+a.props.item.id)},(c="showDetailDiv")in l?Object.defineProperty(l,c,{value:i,enumerable:!0,configurable:!0,writable:!0}):l[c]=i,a}var a,r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,React.Component),a=t,(r=[{key:"render",value:function(){var e=this.props.item,t=e.id,a="";latitude_reg&&longitude_reg&&e.latitude&&e.longitude&&(a="("+getGreatCircleDistance(latitude_reg,longitude_reg,e.latitude,e.longitude)+"米)");return React.createElement("table",{style:{width:"100%",height:"100%"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{width:"2px"}}),React.createElement("td",{style:{width:"40px",verticalAlign:"top",textAlign:"center"}},React.createElement(Img,{src:thumbUrl+"/topstorephotos/"+t+".jpg",style:{marginTop:"5px",width:"40px",height:"40px",borderRadius:"20px"},onTouchEnd:this.showDetailDiv})),React.createElement("td",{style:{verticalAlign:"top",padding:"5px",lineHeight:"15px"}},React.createElement("table",null,React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",null,React.createElement("div",{style:{dispay:"block",whiteSpace:"nowrap",fontSize:"14px",fontWeight:"bold"}},React.createElement("span",{style:{color:"#000",fontWeight:"bold",fontSize:"16px"},onTouchEnd:this.showDetailDiv},e.name),React.createElement("span",{style:{color:"green"}},e.phone))),React.createElement("td",{style:{textAlign:"right",color:"#999"}},e.clubs,"个社团")),React.createElement("tr",null,React.createElement("td",null,React.createElement("div",{style:{dispay:"block",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",width:"180px",textAlign:"left",fontSize:"12px",color:"999"},onTouchEnd:this.showDetailDiv},e.city,e.district,e.town,e.street,e.building)),React.createElement("td",null,React.createElement("span",{style:{float:"right",color:"#999",fontSize:"12px"}},a))),React.createElement("tr",null,React.createElement("td",{colSpan:"2",style:{dispay:"block",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",width:"200px",maxWidth:"200px"}},React.createElement("span",{style:{color:"darkred",fontWeight:"bold"},onTouchEnd:this.showDetailDiv},e.promote_title)))))))))}}])&&x(a.prototype,r),n&&x(a,n),t}();function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var A=function(e){function t(e){var a,r,n,l,c,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=j(t).call(this,e),a=!n||"object"!==O(n)&&"function"!=typeof n?P(r):n,l=P(a),i=function(e){backurl_user="#/users/acts/"+a.props.item.enrolluserid,touchEnd("#/stores/main/"+e)},(c="showDetailDiv")in l?Object.defineProperty(l,c,{value:i,enumerable:!0,configurable:!0,writable:!0}):l[c]=i,a}var a,r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,React.Component),a=t,(r=[{key:"render",value:function(){var e=this.props.item,t=e.id,a="";latitude_reg&&longitude_reg&&e.latitude&&e.longitude&&(a=getGreatCircleDistance(latitude_reg,longitude_reg,e.latitude,e.longitude)+"米");var r=.9*this.props.phoneWidth;return React.createElement("table",{style:{width:"100%",height:"100%"}},React.createElement("tbody",null,React.createElement("tr",{style:{borderBottom:"1px #eee solid"}},React.createElement("td",{style:{width:"80px",verticalAlign:"top",textAlign:"center"}},React.createElement("div",{style:{position:"relative"}},React.createElement(Img,{src:thumbUrl+"/topstoreactphotos/"+t+".jpg",style:{width:"80px",height:"80px"},onTouchEnd:this.showDetailDiv.bind(this,e.id)}),React.createElement("div",{style:{position:"absolute",bottom:"5px",width:"100%",backgroundColor:"black",color:"white",opacity:"0.8",fontSize:"14px",fontWeight:"bolder",margin:"0 auto",letterSpacing:"-1px"}},e.act_date))),React.createElement("td",{style:{verticalAlign:"top",padding:"5px",lineHeight:"15px"}},React.createElement("table",null,React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",null,React.createElement("div",{style:{dispay:"block",whiteSpace:"nowrap",fontSize:"14px",fontWeight:"bold"}},React.createElement("span",{style:{color:"#000",fontWeight:"bold",fontSize:"16px"},onTouchEnd:this.showDetailDiv.bind(this,e.id)},e.name," ",React.createElement(Img,{src:thumbUrl+"/topstorephotos/"+t+".jpg",style:{width:"14px",height:"14px",borderRadius:"7px"}}))))),React.createElement("tr",null,React.createElement("td",{style:{dispay:"block",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",width:"200px",maxWidth:"200px"}},React.createElement("span",{style:{color:"darkolivegreen",fontWeight:"bold"},onTouchEnd:this.showDetailDiv.bind(this,e.id)},e.act_title))),React.createElement("tr",null,React.createElement("td",null,React.createElement("span",{style:{dispay:"inline-block",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",width:"150px",maxWidth:r+"px",textAlign:"left",fontSize:"12px",color:"#333"},onTouchEnd:this.showDetailDiv},e.city,e.district,e.town,e.street,e.building))),React.createElement("tr",null,React.createElement("td",{style:{dispay:"block",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",width:"200px",maxWidth:"200px"}},React.createElement("span",{style:{color:"darkred",fontWeight:"bold"},onTouchEnd:this.showDetailDiv.bind(this,e.id)},e.ownername),React.createElement("span",{style:{float:"right",color:"#999"}},a)))))))))}}])&&D(a.prototype,r),n&&D(a,n),t}();function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var W=function(e){function t(e){var a,r,n,l,c,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=F(t).call(this,e),a=!n||"object"!==L(n)&&"function"!=typeof n?M(r):n,l=M(a),i=function(e){backurl_user=a.props.backurl,touchEnd("#/users/detail/"+a.props.item.userid)},(c="detail")in l?Object.defineProperty(l,c,{value:i,enumerable:!0,configurable:!0,writable:!0}):l[c]=i,a}var a,r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,React.Component),a=t,(r=[{key:"render",value:function(){if(!this.props.item)return null;var e=this.props.item,t=e.userbirthday?e.userbirthday.replace(/\-/g,"/"):null,a=e.intro?e.intro.replace(/<\/?.+?>/g,"").replace(/&nbsp;/gi,"").replace(/&lt;BR&gt;/gi,""):e.intro,r=e.content?e.content.replace(/<\/?.+?>/g,"").replace(/&nbsp;/gi,"").replace(/&lt;BR&gt;/gi,""):e.content,n=1==e.usersex?"dimgray":"tomato",l=e.occupation?e.occupation.replace(/<\/?.+?>/g,"").replace(/&nbsp;/gi,"").replace(/&lt;BR&gt;/gi,""):e.occupation,c=e.duty?e.duty.replace(/<\/?.+?>/g,"").replace(/&nbsp;/gi,"").replace(/&lt;BR&gt;/gi,""):e.duty,i=e.avatar?e.avatar:e.userid,o="";latitude_reg&&longitude_reg&&e.latitude_reg&&e.longitude_reg&&(o="（距离"+getGreatCircleDistance(latitude_reg,longitude_reg,e.latitude_reg,e.longitude_reg)+"米）");return React.createElement("table",{style:{width:this.props.phoneWidth}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{paddingLeft:"5px",paddingTop:"5px",paddingBottom:"0px",color:n,fontSize:18,borderBottom:"1px solid #F6F6F6"}},React.createElement("table",{style:{width:"100%"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{width:"50px",verticalAlign:"top"}},React.createElement("img",{style:{width:"40px",height:"40px",borderRadius:"20px"},src:thumbUrl+"/topuserphotos/"+i+".jpg"})),React.createElement("td",{style:{verticalAlign:"top"}},React.createElement("div",{style:{maxWidth:"350px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},React.createElement("span",{onTouchEnd:this.detail,style:{fontSize:"16px"}},e.username.slice(0,5)),React.createElement("br",null),React.createElement("span",{style:{color:"#999",fontSize:"12px"}},(new Date).getFullYear()-new Date(t).getFullYear()+1,"岁",!e.education||"-",e.education,!l||"-",l,!c||"-",c?c.slice(0,6):"",!e.marry||"-",e.marry,!e.lookingfor||"-",e.lookingfor,"-",e.friend_amount,"元")))))))),React.createElement("tr",null,React.createElement("td",{style:{verticalAlign:"top"}},React.createElement("table",{style:{width:"100%",height:"100%"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{verticalAlign:"top",padding:"5px"}},React.createElement("div",{style:{wordBreak:"break-all",fontSize:"16px",maxWidth:"100%"}},a),React.createElement("div",{style:{wordBreak:"break-all",color:"#666"}},e.retweet_username,"推荐：",r))),React.createElement("tr",{style:{height:"35px"}},React.createElement("td",null,React.createElement("table",{style:{width:"100%",height:"35px"}},React.createElement("tbody",null,React.createElement("tr",{style:{height:"35px"}},React.createElement("td",{style:{textAlign:"left",color:"#999",fontSize:"12px"}},React.createElement("span",{style:{marginLeft:"5px"}},e.workprovince,e.workcity,e.workdistrict,e.worktown,e.workstreet),React.createElement("span",null,o))))))))))),React.createElement("tr",{style:{backgroundColor:"#F5F5F9",height:8,borderTop:"1px solid #ECECED",borderBottom:"1px solid #ECECED"}},React.createElement("td",{colSpan:"2"}))))}}])&&I(a.prototype,r),n&&I(a,n),t}();function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var J=function(e){function t(e){var a,r,n,l,c,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=!(n=X(t).call(this,e))||"object"!==H(n)&&"function"!=typeof n?U(r):n,l=U(a),i=function(){history.back()},(c="historyBack")in l?Object.defineProperty(l,c,{value:i,enumerable:!0,configurable:!0,writable:!0}):l[c]=i,a.state={id:a.props.id,user:{},imgHeight:"272",photos:[],friends:[],searchData:{},searchFlag:0,phoneWidth:parseInt(window.screen.width)>450?450:parseInt(window.screen.width)},a}var a,r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,React.Component),a=t,(r=[{key:"componentDidMount",value:function(){this.props.id&&fetchApi({url:Config.api+"user/main?id="+this.props.id},function(e){if(!isJson(e))return errMessage("","服务器文件错误！"),!1;if(200==e.status){var t=parseInt(window.screen.width)>450?450:parseInt(window.screen.width)-1;this.setState({phoneWidth:t,user:e.data,shops:e.shops,acts:e.acts,friends:e.friendretweets,photos:e.photos})}else errMessage(e)}.bind(this))}},{key:"render",value:function(){var e=this;setTitle(this.state.user.username);var t=this.state.user,a=this,r=this.state.shops?this.state.shops.map(function(e,a){return React.createElement(C,{key:a,item:e,backurl:"#/users/main/"+t.userid})}):null,n=this.state.acts?this.state.acts.map(function(e,a){return React.createElement(A,{key:a,item:e,backurl:"#/users/main/"+t.userid})}):null,l=this.state.photos?this.state.photos.map(function(e,t){var r=this;return React.createElement("div",{style:{border:"1px #ccc solid",position:"relative"}},React.createElement("div",{style:{width:"100%",height:"30px",position:"absolute",top:"0px",backgroundColor:"black",color:"white",lineHeight:"30px",opacity:"0.7",textAlign:"center"}},React.createElement("span",{onTouchEnd:touchEnd.bind(this,"#/users/photos/"+a.props.id)},e.photoname)),React.createElement(Img,{src:thumbUrl+"/userphotos/"+e.avatar+".jpg",style:{width:a.state.phoneWidth,height:"270px"},onLoad:function(){window.dispatchEvent(new Event("resize")),r.setState({imgHeight:"auto"})}}))}.bind(this)):null;this.state.photos[0]&&React.createElement("div",{style:{width:a.state.phoneWidth,backgroundColor:"white"}},React.createElement(Carousel,{autoplay:!0,infinite:!0},l));var c=this.state.friends?this.state.friends.map(function(e,t){var r=this;return React.createElement(W,{key:e.id,item:e,phoneWidth:a.state.phoneWidth,backurl:"#/users/main/"+a.props.id,onLoad:function(){window.dispatchEvent(new Event("resize")),r.setState({imgHeight:"auto"})}})}.bind(this)):null;return this.state.photos[0]&&React.createElement(List,{renderHeader:function(){return"推荐朋友"},className:"my-list",style:{width:this.state.phoneWidth}},React.createElement("table",null,React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",null,React.createElement(Carousel,{autoplay:!0,infinite:!0,style:{backgroundColor:"white"}},c)))))),React.createElement("table",{style:{width:"100%",height:"100%"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{height:"30px"}},React.createElement(Usernav,{user:t}))),React.createElement("tr",null,React.createElement("td",null,React.createElement("div",{style:{width:"100%",height:"100%",overflowY:"auto"}},React.createElement("div",{style:{width:this.state.phoneWidth,backgroundColor:"white"}},React.createElement(Carousel,{autoplay:!0,infinite:!0},l)),React.createElement(List,{renderHeader:function(){return React.createElement("div",{style:{height:"20px",lineHeight:"20px"}},"报名活动",React.createElement(Icon,{type:"right",style:{width:"20px",height:"20px",float:"right"},onTouchEnd:touchEnd.bind(e,"#/users/acts/"+e.props.id)}))},className:"my-list"},React.createElement("div",{style:{width:"100%",backgroundColor:"white"}},n||"无")),React.createElement(List,{renderHeader:function(){return React.createElement("div",{style:{height:"20px",lineHeight:"20px"}},"所在组织",React.createElement(Icon,{type:"right",style:{width:"20px",height:"20px",float:"right"},onTouchEnd:touchEnd.bind(e,"#/users/groups/"+e.props.id)}))},className:"my-list"},React.createElement("div",{style:{width:"100%",backgroundColor:"white"}},r||"无")),React.createElement(List,{renderHeader:function(){return"推荐朋友"},className:"my-list",style:{width:this.state.phoneWidth}},React.createElement("div",{style:{width:this.state.phoneWidth,backgroundColor:"white"}},React.createElement(Carousel,{autoplay:!0,infinite:!0},c))),React.createElement(List,{renderHeader:function(){return React.createElement("div",{style:{height:"20px",lineHeight:"20px"}},"推荐文章",React.createElement(Icon,{type:"right",style:{width:"20px",height:"20px",float:"right"},onTouchEnd:touchEnd.bind(e,"#/users/retweets/"+e.props.id)}))},className:"my-list"}),React.createElement("div",{style:{width:"100%",height:"100%",backgroundColor:"white"}},React.createElement(Listarticles,{apiurl:Config.api+"retweet/articlelist?userid1="+this.props.id,hashurl:"#/users/main/"+this.props.id,backurl:"#/users/main/"+this.props.id,searchData:{},searchFlag:this.state.searchFlag,item:[],pullFlag:1})))))))}}])&&B(a.prototype,r),n&&B(a,n),t}();function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var $=function(e){function t(e){var a,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=K(t).call(this,e),a=!n||"object"!==G(n)&&"function"!=typeof n?Q(r):n,Z(Q(a),"historyBack",function(){history.back()}),Z(Q(a),"receiveChildData",function(e){a.setState({user:e.owner})}),a.state={user:{},searchData:{}},a}var a,r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(t,React.Component),a=t,(r=[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){setTitle(this.state.user.username);var e=this.state.user;return React.createElement("table",{style:{width:"100%",height:"100%"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{height:"30px"}},React.createElement(Usernav,{user:e}))),React.createElement("tr",null,React.createElement("td",{style:{overflowY:"scroll",verticalAlign:"top"}},React.createElement(Listall,{apiurl:Config.api+"user/useracts?ownerid="+this.props.id,hashurl:"#/users/acts/"+this.props.id,backurl:"#/users/acts/"+this.props.id,searchData:this.state.searchData,item:A,searchFlag:this.state.searchFlag,receiveChildData:this.receiveChildData})))))}}])&&q(a.prototype,r),n&&q(a,n),t}();function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ce=function(e){function t(e){var a,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=ae(t).call(this,e),a=!n||"object"!==ee(n)&&"function"!=typeof n?re(r):n,le(re(a),"historyBack",function(){history.back()}),le(re(a),"receiveChildData",function(e){a.setState({user:e.owner})}),a.state={user:{},searchData:{}},a}var a,r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,React.Component),a=t,(r=[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state.user;return setTitle(e.username),React.createElement("table",{style:{width:"100%",height:"100%"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{height:"30px"}},React.createElement(Usernav,{user:e}))),React.createElement("tr",null,React.createElement("td",{style:{overflowY:"scroll",verticalAlign:"top"}},React.createElement(Listall,{apiurl:Config.api+"user/usergroups?ownerid="+this.props.id,hashurl:"#/users/groups/"+this.props.id,backurl:"#/users/groups/"+this.props.id,searchData:this.state.searchData,item:C,searchFlag:this.state.searchFlag,receiveChildData:this.receiveChildData})))))}}])&&te(a.prototype,r),n&&te(a,n),t}();function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var me=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),se(this,de(t).apply(this,arguments))}var a,r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(t,React.Component),a=t,(r=[{key:"render",value:function(){var e=this.props.item,t=e.phototime?e.phototime.replace(/\-/g,"/"):null,a=e.avatar?e.avatar:e.id;return React.createElement("table",{style:{width:"100%",border:"0px",marginTop:"0px"}},React.createElement("tbody",null,React.createElement("tr",{style:{height:"100px",margin:"3px"}},React.createElement("td",{className:"userLogoTd",style:{textAlign:"center"},userid:e.id},React.createElement(Img,{src:thumbUrl+"/userphotos/"+a+".jpg",style:{width:"98%"}}))),React.createElement("tr",null,React.createElement("td",{style:{height:"50px",verticalAlign:"top"}},React.createElement("table",{style:{width:"100%"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",null,e.photoname),React.createElement("td",{style:{width:"100px"}},"(",new Date(t).getFullYear(),"年",new Date(t).getMonth(),"月",new Date(t).getDay(),"日)")))))),React.createElement("tr",null,React.createElement("td",{style:{borderBottom:"1px solid #ccc"}}))))}}])&&oe(a.prototype,r),n&&oe(a,n),t}();function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Ae={List:f,Main:J,Acts:$,Groups:ce,Photos:function(e){function t(e){var a,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=fe(t).call(this,e),a=!n||"object"!==he(n)&&"function"!=typeof n?be(r):n,function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(be(a),"receiveChildData",function(e){a.setState({user:e.owner,searchFlag:0})}),a.props.id||alertMsg("参数错误，点击确定返回！",0,function(){window.history.back()}),a.state={user:{},searchData:{},searchFlag:0},a}var a,r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(t,React.Component),a=t,(r=[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return setTitle(this.state.user.username),React.createElement("div",{ref:"main",style:{width:"100%",height:"100%"}},React.createElement("table",{style:{width:"100%",height:"100%"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{height:"30px"}},React.createElement(Usernav,{user:this.state.user}))),React.createElement("tr",null,React.createElement("td",{style:{overflowY:"scroll",verticalAlign:"top"}},React.createElement(Listall,{apiurl:Config.api+"photo/list?ownerid="+this.props.id+"&typeid=3",hashurl:"#/users/photos/"+this.props.id,backurl:"#/users/photos/"+this.props.id,searchData:this.state.searchData,item:me,searchFlag:this.state.searchFlag,receiveChildData:this.receiveChildData}))))))}}])&&pe(a.prototype,r),n&&pe(a,n),t}(),Friends:function(e){function t(e){var a,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=ge(t).call(this,e),a=!n||"object"!==Ee(n)&&"function"!=typeof n?ve(r):n,function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(ve(a),"receiveChildData",function(e){a.setState({user:e.owner})}),a.state={user:{},searchData:{}},a}var a,r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(t,React.Component),a=t,(r=[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){this.state.user;return React.createElement("div",{style:{width:"100%",height:"100%"}},React.createElement("table",{style:{width:"100%",height:"100%"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{height:"30px"}},React.createElement(Usernav,{user:this.state.user}))),React.createElement("tr",null,React.createElement("td",{style:{overflowY:"scroll",verticalAlign:"top"}},React.createElement(Listall,{apiurl:Config.api+"retweet/friendlist?userid1="+this.props.id+"&typeid=5",hashurl:"#/users/friends/"+this.props.id,backurl:"#/users/friends/"+this.props.id,searchData:this.state.searchData,item:W,searchFlag:this.state.searchFlag,receiveChildData:this.receiveChildData}))))))}}])&&Re(a.prototype,r),n&&Re(a,n),t}(),Retweets:function(e){function t(e){var a,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=Ne(t).call(this,e),a=!n||"object"!==_e(n)&&"function"!=typeof n?ke(r):n,function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(ke(a),"receiveChildData",function(e){a.setState({user:e.owner})}),a.state={user:{},searchData:{},searchFlag:0},a}var a,r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(t,React.Component),a=t,(r=[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return setTitle(this.state.user.username),React.createElement("div",{style:{width:"100%",height:"100%"}},React.createElement("table",{style:{width:"100%",height:"100%"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{height:"30px"}},React.createElement(Usernav,{user:this.state.user}))),React.createElement("tr",null,React.createElement("td",{style:{overflowY:"scroll",verticalAlign:"top"}},React.createElement(Listarticles,{apiurl:Config.api+"retweet/articlelist?userid1="+this.props.id,hashurl:"#/users/retweets/"+this.props.id,backurl:"#/users/retweets/"+this.props.id,searchData:this.state.searchData,searchFlag:this.state.searchFlag,item:[],receiveChildData:this.receiveChildData,detailurl:"#/users/retweet/",ownerid:this.props.id}))))))}}])&&xe(a.prototype,r),n&&xe(a,n),t}(),Retweet:function(e){function t(e){var a,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=De(t).call(this,e),a=!n||"object"!==Ce(n)&&"function"!=typeof n?je(r):n,Te(je(a),"showPostComments",function(){var e="block"==a.state.showPostCommentsDiv?"none":"block";a.setState({showPostCommentsDiv:e})}),Te(je(a),"sendComment",function(){if(a.setState({showPostCommentsDiv:"none"}),a.state.content){var e=Config.api+"comment/create";fetchApi({url:e,method:"POST",body:{title:a.state.title,content:a.state.content,ownerid:a.props.id,typeid:6}},function(e){if(!isJson(e))return errMessage("","服务器文件错误！"),!1;200==e.status&&this.setState({retweet:e.owner,retweet_comments:e.comments}),resultAlert(e)}.bind(je(a)))}}),Te(je(a),"handleChangeTitle",function(e){a.setState({title:e.target.value})}),Te(je(a),"handleChangeContent",function(e){a.setState({content:e.target.value})}),Te(je(a),"showRetweetListDiv",function(){var e="block"==a.state.showRetweetListDiv?"none":"block";a.setState({showRetweetListDiv:e})}),Te(je(a),"storeDetail",function(){var e="";a.state.retweet&&a.state.retweet.ownerid&&(e=a.state.retweet.ownerid,backurl_store="#/users/retweet/"+a.props.id,touchEnd("#/stores/detail/"+e))}),Te(je(a),"articleDetail",function(){a.state.retweet&&a.state.retweet.ownerid&&(backurl_store="#/users/retweet/"+a.props.id,touchEnd("#/stores/article/"+a.state.retweet.id))}),Te(je(a),"detailStart",function(e){if(e.stopPropagation(),e.touches.length){var t=Object.assign({},a.state.slides);t.startX=e.touches[0].pageX;var r=document.body.clientWidth;t.moveX=0,t.pert=0,a.setState({slides:t,cliW:r})}}),Te(je(a),"detailMove",function(e){if(e.stopPropagation(),e.touches.length){var t=Object.assign({},a.state.slides),r=e.touches[0].pageX-t.startX;t.moveX=r,r>40&&(t.pert=r/2,a.setState({slides:t}))}}),Te(je(a),"detailEnd",function(e){e.stopPropagation();var t=Object.assign({},a.state.slides);t.pert>50?backurl_user?location.href=backurl_user:history.back():t.pert=0,t.moveX=0,a.setState({slides:t})});var l=parseInt(window.screen.width)>450?450:parseInt(window.screen.width);return a.state={id:a.props.id,pic:0,showPostCommentsDiv:"none",showRetweetDiv:"none",showRetweetListDiv:"none",title:"",content:"",paymentShow:"none",payment:0,paymentReply:"",phoneWidth:l,store:{},shop:{},user:{},retweet:{}},a}var a,r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(t,React.Component),a=t,(r=[{key:"componentDidMount",value:function(){if(this.props.id){var e=Config.api+"retweet/view?retweetid="+this.props.id+"&typeid=4";fetchApi({url:e},function(e){if(!isJson(e))return errMessage("","服务器文件错误！"),!1;200==e.status?this.setState({user:e.owner,retweet:e.retweet,comments:e.comments,retweet_comments:e.retweet_comments}):errMessage(e)}.bind(this))}}},{key:"render",value:function(){var e,t,a;if(!this.state.user)return null;setTitle("文章详情");var r=this,n=this.state.comments?this.state.comments.map(function(e,t){return React.createElement(Comment,{key:e.id,item:e,backurl:"#/users/retweet/"+r.props.id})}.bind(this)):null,l=this.state.retweet_comments?this.state.retweet_comments.map(function(e,t){return React.createElement(Comment,{key:e.id,item:e,backurl:"#/users/retweet/"+r.props.id})}.bind(this)):null,c=[],i=this.state.retweet?this.state.retweet.avatar:"";i&&i.indexOf("[")>-1?c=JSON.parse(i):c.push(i);var o=c?c.map(function(e,t){var a="";return"object"==Ce(e)&&null!=e?(a=e[0],i=e[1]):i=e,React.createElement("div",{style:{width:"100%",marginTop:"10px",fontSize:"16px"}},React.createElement("div",{style:{textAlign:"left"}},a),React.createElement("img",{src:thumbUrl+"/articlephotos/"+i+".jpg",style:Te({width:this.props.phoneWidth},"width","100%")}))}.bind(this)):null;this.state.retweet&&this.state.retweet.type;return this.state.retweet&&this.state.retweet.ownerid&&this.state.retweet.ownerid,React.createElement("div",{style:{width:"100%",height:"100%"},onTouchStart:this.detailStart,onTouchEnd:this.detailEnd,onTouchMove:this.detailMove},React.createElement("table",{style:{width:"100%",height:"100%"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{height:"30px"}},React.createElement(Usernav,{user:this.state.user}))),React.createElement("tr",null,React.createElement("td",{style:{width:"100%"}},React.createElement("div",{style:{width:"100%",height:"100%",overflowY:"auto"}},React.createElement("table",{style:{marginBottom:"10px",border:"1px #eee solid",borderRadius:"5px",width:"100%"}},React.createElement("tbody",null,React.createElement("tr",{style:{verticalAlign:"top",backgroundColor:"#ffffff"}},React.createElement("td",{style:{padding:"0px"}},React.createElement("table",{style:{width:"100%"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{padding:"5px",paddingTop:"0px",textAlign:"center"}},React.createElement("div",{style:{height:"10px"}}),React.createElement("div",{style:{textAlign:"left",fontSize:"20px"}},React.createElement("span",{onTouchEnd:this.articleDetail},this.state.retweet?this.state.retweet.title:"")),React.createElement("div",{style:{height:"10px"}}),React.createElement("div",{style:{textAlign:"left",color:"#999999"}},React.createElement("span",{onTouchEnd:this.storeDetail},this.state.retweet?this.state.retweet.owner_name:"")," ",React.createElement("span",{style:{marginLeft:"10px"}},this.state.retweet?this.state.retweet.datetime:"")),React.createElement("div",{style:{height:"10px"}}),React.createElement("div",{style:(e={textAlign:"left",fontSize:"16px",border:"1px solid rgb(230,230,230)",borderRadius:"8px",backgroundColor:"rgb(250,250,250)",color:"rgb(100,100,100)"},Te(e,"fontSize","14px"),Te(e,"padding","10px"),e)},this.state.retweet.retweet_username,"荐语：",this.state.retweet?this.state.retweet.retweet_content:""),React.createElement("div",{style:{height:"10px"}}),React.createElement("div",{style:{textAlign:"left",fontSize:"16px"}},this.state.retweet?this.state.retweet.content:""),React.createElement("div",null,o),React.createElement("div",{style:{textAlign:"right"}},"评论",this.state.retweet?this.state.retweet.comments:""))))))))),React.createElement("div",null,n)),React.createElement("div",{style:(t={display:this.state.showRetweetListDiv,position:"fixed",zIndex:"100000"},Te(t,"position","fixed"),Te(t,"bottom","40px"),Te(t,"left","0px"),Te(t,"textAlign","center"),Te(t,"padding","0px"),Te(t,"width","100%"),Te(t,"backgroundColor","#ccc"),t)},React.createElement("div",{style:(a={textAlign:"left",fontSize:"16px",border:"1px solid rgb(230,230,230)",backgroundColor:"rgb(250,250,250)",color:"rgb(100,100,100)"},Te(a,"fontSize","14px"),Te(a,"padding","10px"),a)},this.state.retweet.retweet_username,"荐语：",this.state.retweet?this.state.retweet.retweet_content:""),React.createElement("div",null,l)))),React.createElement("tr",{style:{borderTop:"1px #eee solid",backgroundColor:"white"}},React.createElement("td",{style:{height:"30px"}},React.createElement("table",{id:"club-nav",style:{bottom:"0px",zIndex:"10000000",width:"100%"}},React.createElement("tbody",null,React.createElement("tr",{style:{height:"35px",lineHeight:"35px"}},React.createElement("td",{style:{width:"120px",textAlign:"center"},onTouchEnd:this.showPostComments},React.createElement("span",{style:{marginLeft:"5px",width:"100px",height:"30px",lineHeight:"30px",display:"inline-block",textAlign:"center",borderRadius:"15px",backgroundColor:"rgb(245,245,245)"}},"写评论...")),React.createElement("td",{onTouchEnd:this.showRetweetListDiv},"评论",this.state.retweet?this.state.retweet.retweet_comments:""),React.createElement("td",null,"收藏"),React.createElement("td",null,"点赞"),React.createElement("td",null)))))))),React.createElement(Postcomment,{showPostCommentsDiv:this.state.showPostCommentsDiv,title:this.state.title,content:this.state.content,handleChangeTitle:this.handleChangeTitle,handleChangeContent:this.handleChangeContent,hidePostComments:this.showPostComments,sendComment:this.sendComment}))}}])&&Oe(a.prototype,r),n&&Oe(a,n),t}(),Detail:w};t.default=Ae}])});