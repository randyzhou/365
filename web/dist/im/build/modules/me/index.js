!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t);var s=function(e){function t(e){var n,a,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,l=o(t).call(this,e),n=!l||"object"!==r(l)&&"function"!=typeof l?i(a):l,c(i(n),"logout",function(){var e=Config.api+"site/logout";fetchApi({url:e},function(e){if(console.log(e),!isJson(e))return errMessage("","服务器文件错误！"),!1;resultAlert(e),200==e.result&&(token=null,clearCookie("token"),document.cookie="",socket.emit("leave"),location.href="/im")}.bind(i(n)))}),c(i(n),"clear",function(){localStorage.clear(),document.cookie="",jsonshow(localStorage)}),c(i(n),"upgrade",function(){localStorage.clear(),location.href="/im"}),n}var n,s,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,React.Component),n=t,(s=[{key:"render",value:function(){return setTitle("管理界面"),React.createElement("table",{style:{width:"100%",height:"100%",backgroundColor:"#eeeeee"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{verticalAlign:"top"}},React.createElement("div",{style:{width:"100%",overflowY:"auto"}},React.createElement("table",{style:{width:"100%",height:"80px",backgroundColor:"white"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{textAlign:"center",verticalAlign:"middle",width:"70px"}},React.createElement(Img,{onTouchEnd:touchEnd.bind(this,"#/usersadmin/admin"),src:thumbUrl+"/topuserphotos/"+userid+".jpg",style:{width:"50px",height:"50px",borderRadius:"25px"}})),React.createElement("td",{style:{textAlign:"left",width:"100px"}},React.createElement("div",{style:{dispay:"block"}},React.createElement("span",null,username),React.createElement("br",null),React.createElement("span",null,userid))),React.createElement("td",{style:{textAlign:"right"}},React.createElement("span",{onTouchEnd:touchEnd.bind(this,"#/usersadmin/admin")},"修改资料")),React.createElement("td",{style:{width:"10px"}})))),React.createElement("div",{style:{width:"100%",height:"20px"}}),React.createElement(List,{style:{backgroundColor:"white"},className:"picker-list"},React.createElement(List.Item,{arrow:"horizontal",onTouchEnd:touchEnd.bind(this,"#/storesadmin/basic")},"店家管理")),React.createElement(List,{style:{backgroundColor:"white"},className:"picker-list"},React.createElement(List.Item,{arrow:"horizontal",onTouchEnd:touchEnd.bind(this,"#/me/groups")},"社团管理")),React.createElement(List,{style:{backgroundColor:"white"},className:"picker-list"},React.createElement(List.Item,{arrow:"horizontal",onTouchEnd:touchEnd.bind(this,"#/me/refuser")},"查看收入")),React.createElement(List,{style:{backgroundColor:"white"},className:"picker-list"},React.createElement(List.Item,{arrow:"horizontal",onTouchEnd:touchEnd.bind(this,"#/me/addmobile")},"关联手机")),React.createElement(List,{style:{backgroundColor:"white"},className:"picker-list"},React.createElement(List.Item,{arrow:"horizontal",onTouchEnd:touchEnd.bind(this,"#/usersadmin/adminpassword")},"修改密码")),React.createElement(List,{style:{backgroundColor:"white"},className:"picker-list"},React.createElement(List.Item,{arrow:"horizontal",onTouchEnd:this.upgrade},"系统升级")),React.createElement(List,{style:{backgroundColor:"white"},className:"picker-list"},React.createElement(List.Item,{arrow:"horizontal",onTouchEnd:this.logout},"退出登录"))))),React.createElement("tr",{style:{height:"30px"}},React.createElement("td",null,React.createElement(Mainbottom,null)))))}}])&&a(n.prototype,s),u&&a(n,u),t}();function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,h(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,React.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.item;return React.createElement("tr",null,React.createElement("td",{style:{fontSize:"15px",padding:"10px"}},React.createElement("span",{onTouchEnd:touchEnd.bind(this,"#/storesadmin/basic/"+e.id),style:{color:"#333333"}},e.name)),React.createElement("td",{style:{width:"100px",verticalAlign:"middle",textAlign:"right",padding:"10px"}},React.createElement("span",{style:{color:"#555555"}},e.username)))}}])&&d(n.prototype,r),a&&d(n,a),t}();function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=g(t).call(this,e),n=!a||"object"!==b(a)&&"function"!=typeof a?E(r):a,x(E(n),"loadData",function(e,t){var r=Config.api+"shop/mygroupsadmin";fetchApi({url:r},function(e){if(!isJson(e))return errMessage("","服务器文件错误！"),!1;200==e.status?this.setState({groups:e.groups}):1==e.status||errMessage(e)}.bind(E(n)))}),x(E(n),"handleGroupChange",function(e){n.setState({groupName:e.target.value})}),n.state={storeName:null,storeId:null,groups:[]},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,React.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){setTitle("群组管理");var e=this.state.groups?this.state.groups.map(function(e,t){return React.createElement(f,{key:t,item:e})}):null;return React.createElement("div",{ref:"main",style:{marginTop:"0px",width:"100%",height:"100%"}},React.createElement("table",{style:{width:"100%"}},React.createElement("tbody",null,React.createElement("tr",{style:{height:"50px"}},React.createElement("td",null,React.createElement("div",{style:{height:"50px",lineHeight:"50px",textAlign:"center",backgroundColor:"darkblue",color:"white",fontSize:"20px"}},"管理我的社团"))),React.createElement("tr",null,React.createElement("td",{style:{vertical:"top"}},React.createElement("div",{style:{width:"100%",height:"100%",overflowY:"scroll"}},React.createElement("table",{style:{width:"100%",height:"100%"}},React.createElement("tbody",null,React.createElement("tr",{style:{borderBottom:"1px #ccc solid",height:"30px",lineHeight:"30px"}},React.createElement("td",{style:{fontSize:"15px",padding:"10px"}},"社团名称"),React.createElement("td",{style:{fontSize:"15px",textAlign:"right",padding:"10px"}},"社长")),e))))),React.createElement("tr",{style:{height:"40px"}},React.createElement("td",null)))),React.createElement("table",{style:{position:"fixed",bottom:"0px",width:"100%",height:"40px",backgroundColor:"darkgreen",color:"white",borderTop:"1px solid #ccc"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{width:"1px"}}),React.createElement("td",{style:{textAlign:"center"}},React.createElement("table",{style:{width:"100%"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{textAlign:"center"},onTouchEnd:touchEnd.bind(this,"#/me/admin")},React.createElement("span",null,"关闭")))))),React.createElement("td",{style:{width:"10px"}})))))}}])&&y(n.prototype,r),a&&y(n,a),t}();function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=S(t).call(this,e),n=!a||"object"!==w(a)&&"function"!=typeof a?O(r):a,T(O(n),"toggleMobileTable",function(e){var t="none"==n.state.showMobileTable?"table":"none";e&&(t=e),n.setState({showMobileTable:t})}),T(O(n),"toggleRefTable",function(e){var t="none"==n.state.showRefTable?"table":"none";e&&(t=e),n.setState({showRefTable:t})}),T(O(n),"toggleOrdersDiv",function(e){var t="none"==n.state.showOrdersDiv?"block":"none";e&&(t=e),n.setState({showOrdersDiv:t})}),T(O(n),"handleRefChange",function(e){var t=e.target.value;n.setState({refuser:t})}),T(O(n),"selectRefUser",function(e){var t=O(n),r=n.state.refuser,a=Config.api+"user/selectrefuser?username1="+r;fetchApi({url:a},function(e){3==e.result?t.setState({refuser1:e.refuser1,refuser2:e.refuser2,changeRefFlag:1}):(t.setState({changeRefFlag:0}),resultAlert(e))}.bind(O(n)))}),T(O(n),"submitRefUser",function(){if(1!=n.state.changeRefFlag)return alert("介绍人ID不正确！"),!1;var e=parseFloat(n.state.user.balance);if(e=e.toFixed(2),n.state.user.ref_userid>1&&e<100)return alert("您的余额不足1000元，暂不能更换介绍人！"),!1;if(n.state.user.ref_userid>1&&0==confirm("您的余额充足，将从您的余额中支付给现介绍人1000元！"))return!1;var t=Config.api+"user/updaterefuser";fetchApi({url:t,method:"POST",body:{refuserid:n.state.refuser1.userid}},function(e){3==e.result&&this.setState({user:e.user,refuser1:e.refuser1,refuser2:e.refuser2,ref1:e.refuser1,ref2:e.refuser2,showRefTable:"none"}),resultAlert(e)}.bind(O(n)))}),T(O(n),"submitUserMobile",function(){fetchApi({url:"/user/adminusermobile",method:"POST",body:{mobile:n.state.user.mobile}},function(e){if(200==e.status){var t=this.state.user;this.setState({user:t,showMobileTable:"none"})}resultAlert(e)}.bind(O(n)))}),T(O(n),"payToUser",function(){return parseInt(n.state.user.balance||"0")<1?(alert("您的业务余额不足1元，不能提现！"),!1):(alertMsg("暂不能提现，请耐心等候！"),!1)}),T(O(n),"handleMobileChange",function(e){var t=e.target.value,r=n.state.user;r.mobile=t,n.setState({user:r})}),n.state={p:0,showMobileTable:"none",showRefTable:"none",refuser:null,refuser1:{},refuser2:{}},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,React.Component),n=t,(r=[{key:"componentDidMount",value:function(){var e=Config.api+"user/checkuser";fetchApi({url:e},function(e){if(!isJson(e))return alertMsg("服务器文件错误！"),!1;if(200==e.status){var t=e.orders,n=t.length>0?"block":"none";this.setState({user:e.user,refuser1:e.refuser1,ref1:e.refuser1,ref2:e.refuser2,orders:t,showOrdersDiv:n})}else alertMsg(e)}.bind(this))}},{key:"render",value:function(){if(setTitle("管理界面"),!this.state.user)return!1;this.state.user.id;var e=this.state.user,t={userRow:{height:"100px",margin:"3px"},userLogoTd:{width:"100px",verticalAlign:"middle"},userLogo:{width:"50px",height:"50px",borderRadius:"25px"},divRow:{height:"40px",margin:"3px"},logoTd:{width:"30px",verticalAlign:"middle"},logo:{width:"30px",height:"30px"},vertical:{verticalAlign:"middle"},td:{dispay:"block",fontSize:"16px",fontWeight:"normal",textAlign:"center"}},n=parseFloat(e.ref_income||"0");n=n.toFixed(2);var r=parseFloat(e.balance||"0");return r=r.toFixed(2),React.createElement("table",{style:{width:"100%",border:"0px",marginTop:"0px",backgroundColor:"#eeeeee"}},React.createElement("tbody",null,React.createElement("tr",{style:t.divRow},React.createElement("td",{className:"content",style:{border:"0px red solid"}},React.createElement("table",{style:{width:"100%",border:"0px",marginTop:"0px",backgroundColor:"white"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{verticalAlign:"left"}},React.createElement("table",{style:{width:"100%"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{textAlign:"center",width:"60px"}},React.createElement(Img,{src:thumbUrl+"/topuserphotos/"+this.state.user.avatar+".jpg",style:t.userLogo}))),React.createElement("tr",null,React.createElement("td",{style:{verticalAlign:"middle",textAlign:"center"}},React.createElement("div",{style:{fontWeight:"normal"},onTouchEnd:this.toggleMobileTable.bind(this,"table")},"（",React.createElement("span",null,e.username),"）",React.createElement("br",null)))))))),React.createElement("tr",{style:t.divRow},React.createElement("td",null,React.createElement("table",{style:{width:"100%"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{textAlign:"center"}},React.createElement("div",{style:{height:"5px"}}),React.createElement("div",null,"直接介绍人：",React.createElement("span",{style:{color:1==this.state.refuser1.usersex?"black":"red"},onTouchEnd:touchEnd.bind(this,"#/users/detail/"+this.state.ref1.userid)},this.state.ref1.username)," ",React.createElement("span",{style:{background:"url(image/icon_new.jpg) no-repeat -217px -178px",display:"inline-block",width:"20px",height:"20px"},onTouchEnd:this.toggleRefTable.bind(this,"table")})),React.createElement("div",{style:{display:this.state.ref2.username?"inline-block":"none"}},"间接介绍人：",React.createElement("span",{style:{color:1==this.state.ref2.usersex?"black":"red"},onTouchEnd:touchEnd.bind(this,"#/users/detail/"+this.state.ref2.userid)},this.state.ref2.username,this.state.ref2.mobile)),React.createElement("div",{style:{height:"5px"}}),React.createElement("span",null,React.createElement("em",{className:"error",style:{fontSize:"12px"}},"有问题直接联系介绍人！")))))))),React.createElement("tr",null,React.createElement("td",{style:{height:"10px"}})))),React.createElement("div",{style:{width:"100%",height:"10px"}}),React.createElement("table",{style:{width:"100%",border:"0px",marginTop:"0px",backgroundColor:"white"}},React.createElement("tbody",null,React.createElement("tr",{style:t.divRow},React.createElement("td",null,React.createElement("table",{style:{width:"100%"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",null,React.createElement("div",{style:t.td},React.createElement("span",{onTouchEnd:touchEnd.bind(this,"#/me/myrecommendcashlogs")},"收入：",n,"元"))))))),React.createElement("td",{style:{border:"0px red solid",verticalAlign:"middle"}},React.createElement("table",{style:{width:"100%"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",null,React.createElement("div",{style:t.td},React.createElement("span",{onTouchEnd:touchEnd.bind(this,"#/me/myrecommendcashlogs")},"余额：",r,"元"))))))),React.createElement("td",{style:{border:"0px red solid",width:"70px",verticalAlign:"middle"}},React.createElement("table",{style:{width:"100%"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",null,React.createElement("div",{style:t.td},React.createElement("span",{style:{padding:"5px",color:"white",backgroundColor:"darkcyan",fontSize:"14px",borderRadius:"5px"},onTouchEnd:this.payToUser},"提现")))))))))),React.createElement("div",{style:{width:"100%",height:"10px"}}),React.createElement("table",{style:{width:"100%",border:"0px",marginTop:"0px",backgroundColor:"white"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{colSpan:"2",style:{borderBottom:"1px solid #eeeeee"}})),React.createElement("tr",{style:t.divRow},React.createElement("td",null,React.createElement("table",{style:{width:"100%"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",null,React.createElement("div",{style:t.td},React.createElement("span",{onTouchEnd:touchEnd.bind(this,"#/me/myrecommends")},"我的推荐"))))))),React.createElement("td",{style:{border:"0px red solid",verticalAlign:"middle"}},React.createElement("table",{style:{width:"100%"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",null,React.createElement("div",{style:t.td},React.createElement("span",{onTouchEnd:touchEnd.bind(this,"#/me/myrecommendcashlogs")},"业务收入")))))))),React.createElement("tr",null,React.createElement("td",{colSpan:"2",style:{borderBottom:"1px solid #eeeeee"}})))),React.createElement("div",{style:{width:"100%",height:"10px"}}),React.createElement("table",{style:{display:this.state.showMobileTable,width:"100%",position:"fixed",top:"150px"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{textAlign:"center",padding:"10px"}},React.createElement("div",{style:{backgroundColor:"white",padding:"10px",border:"1px solid #aaa",margin:"0 auto"}},"新手机号：",React.createElement("input",{style:{height:"30px"},value:this.state.user.mobile,onChange:this.handleMobileChange}),React.createElement("div",{style:{height:"10px"}}),React.createElement("span",{className:"btn-info",style:{marginRight:"20px"},onTouchEnd:this.toggleMobileTable.bind(this,"none")},"取消"),React.createElement("span",{className:"btn-info",onTouchEnd:this.submitUserMobile},"确定")))))),React.createElement("table",{style:{display:this.state.showRefTable,width:"100%",position:"fixed",top:"150px"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{textAlign:"center",padding:"10px"}},React.createElement("div",{style:{top:"-2px",right:"5px",position:"absolute",backgroundColor:"black",color:"white",border:"1px black solid",borderRadius:"12px",width:"24px",height:"24px"}},React.createElement(Icon,{type:"cross",onTouchEnd:this.toggleRefTable.bind(this,"none")})),React.createElement("div",{style:{backgroundColor:"white",padding:"10px",border:"1px solid #aaa",margin:"0 auto"}},React.createElement("div",{style:{textAlign:"left",fontSize:"14px",color:"chocolate",marginTop:"10px"}},"改换介绍人请慎重：只能选择比您先注册的会员，且需要支付给现介绍人脱钩费1000元(首次更换除外)，请确保您的业务余额有1000元，建议您轻易不要更换介绍人。"),React.createElement("div",{style:{height:"10px"}}),React.createElement("div",null,React.createElement("input",{style:{height:"30px",placeHolder:"介绍人会员名",border:"1px solid #ddd"},value:this.state.refuser,onChange:this.handleRefChange}),React.createElement("span",{onTouchEnd:this.selectRefUser,style:{marginLeft:"10px",color:"darkgreen",width:"50px",textAlign:"center"}},"搜索")),React.createElement("div",{style:{height:"60px",lineHeight:"60px"}},React.createElement("span",{style:{color:1==this.state.refuser1.usersex?"black":"red"}},this.state.refuser1.username,"(直接)"),this.state.refuser2.username?" -> "+this.state.refuser2.username+"(间接)":""),React.createElement("div",{style:{width:"100%",height:"30px",lineHeight:"30px",textAlign:"center",backgroundColor:"darkgreen",color:"white"},onTouchEnd:this.submitRefUser},"确定更换")))))),React.createElement("div",{style:{display:this.state.showOrdersDiv,position:"fixed",width:"100%",textAlign:"center",top:"45px",margin:"0 auto"}},React.createElement("span",{className:"btn-info",style:{position:"absolute",backgroundColor:"chocolate",color:"white",padding:"6px",borderRadius:"15px",width:"30px",height:"30px",lineHeight:"20px",textAlign:"center",right:"4px",display:"inline-block"},onTouchEnd:this.toggleOrdersDiv.bind(this,"none")},"X"),React.createElement("table",{style:{width:"98%"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{textAlign:"center",padding:"10px"}},React.createElement("div",{style:{backgroundColor:"ivory",padding:"10px",border:"1px solid #aaa",margin:"0 auto",borderRadius:"5px"}},React.createElement("table",{style:{width:"100%"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{width:"90px",height:"40px"}},"日期"),React.createElement("td",null,"店铺"),React.createElement("td",{style:{width:"60px"}},"消费金额"),React.createElement("td",{style:{width:"50px"}},"状态")))),React.createElement("div",{style:{height:"20px"}}),React.createElement("span",{className:"btn-info",style:{padding:"6px",borderRadius:"3px",backgroundColor:"chocolate"},onTouchEnd:touchEnd.bind(this,"#/stores/myorders")},"前往处理"),React.createElement("div",{style:{height:"20px"}}))))))),React.createElement("table",{style:{zIndex:"10000",position:"fixed",bottom:"0px",width:"100%",backgroundColor:"darkgreen"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{textAlign:"center",height:"35px",lineHeight:"35px"}},React.createElement("span",{style:{padding:"3px",color:"white"},onTouchEnd:touchEnd.bind(this,"#/me/admin")},"关闭")))))))))}}])&&_(n.prototype,r),a&&_(n,a),t}();function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var M=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(a=A(t).call(this,e))||"object"!==P(a)&&"function"!=typeof a?D(r):a).state={errTag:"disabled",Errors:{},ErrorMsg:{},errShow:{},inputed:{},user:{},reg_mobile:"",reg_vericode:"",reg_vericode_disabled:!0,password:"",veriPassword:"",veriShow:"none",passDivShow:"none",send_vericode_disabled:!0,vericodeTd:"#ccc",maxtime:60,vericharSpan:"发送验证码",submit_disabled:!0,submitColor:"#ccc",connected_mobile:"",connect_mobile_show:0},n.validData={reg_mobile:["maxLength(11)","minLength(11)","isDigits()","notEmpty()"],password:["maxLength(20)","minLength(6)","notEmpty()"],veriPassword:["maxLength(20)","minLength(6)","notEmpty()","compareValue(==,password,密码不相符)"]},n.mobile_change=n.mobile_change.bind(D(n)),n.reg_mobile=n.reg_mobile.bind(D(n)),n.send_vericode=n.send_vericode.bind(D(n)),n.reg_vericode=n.reg_vericode.bind(D(n)),n.changePassword=n.changePassword.bind(D(n)),n.changeVeriPassword=n.changeVeriPassword.bind(D(n)),n.mobile_submit=n.mobile_submit.bind(D(n)),n.cancel=n.cancel.bind(D(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,React.Component),n=t,(r=[{key:"componentDidMount",value:function(){fetchApi({url:Config.api+"site/getvericode"},function(e){1==e.statusCode&&this.setState({connect_mobile_show:1,connected_mobile:e.mobile})}.bind(this))}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"reg_mobile",value:function(e){var t=e.target.value;if(t.length>11)return!1;this.setState({reg_mobile:t}),11==t.length?this.setState({send_vericode_disabled:!1,vericodeTd:"palegreen"}):this.setState({send_vericode_disabled:!0});var n=this.validData.reg_mobile;validate(t,"reg_mobile",n,this)}},{key:"send_vericode",value:function(e){if(e.preventDefault(),60!=this.state.maxtime)return!1;var t=this.state.reg_mobile;if(t.length<11)return!1;fetchApi({url:Config.api+"site/addvericode",method:"POST",body:{mobile:t}},function(e){resultAlert(e.msg),1==e.statusCode&&(this.setState({reg_vericode_disabled:!1,send_vericode_disabled:!0,vericharSpan:"还剩",veriShow:"inline-block"}),this.timer=setInterval(function(){var e=this.state.maxtime;this.setState({verishowSpan:e}),e>0?(--e,this.setState({maxtime:e})):(clearInterval(this.timer),this.setState({vericharSpan:"发送验证码",veriShow:"none",vericodeTd:"#ccc"}))}.bind(this),1e3))}.bind(this))}},{key:"reg_vericode",value:function(e){var t=e.target.value;this.setState({reg_vericode:t}),4==t.length&&fetchApi({url:Config.api+"site/checkvericode?mobile="+this.state.reg_mobile+"&vericode="+t},function(e){resultAlert(e),1==e.statusCode&&this.setState({passDivShow:"table"})}.bind(this))}},{key:"changePassword",value:function(e){var t=e.target.value;this.setState({password:t});var n=this.validData.password;validate(t,"password",n,this)}},{key:"changeVeriPassword",value:function(e){var t=e.target.value;this.setState({veriPassword:t});var n=this.validData.veriPassword;validate(t,"veriPassword",n,this),"disabled"==this.state.errTag?this.setState({submit_disabled:!0,submitColor:"#ccc"}):this.setState({submit_disabled:!1,submitColor:"lightgreen"})}},{key:"mobile_submit",value:function(e){e.preventDefault();var t=this.state.reg_mobile,n=this.state.reg_vericode,r=this.state.password;if("disabled"==this.state.errTag)return!1;fetchApi({url:Config.api+"site/addmobile",method:"POST",body:{mobile:t,vericode:n,password:r}},function(e){resultAlert(e),1==e.statusCode&&this.setState({connect_mobile_show:"1",connected_mobile:t})}.bind(this))}},{key:"mobile_change",value:function(){this.setState({connect_mobile_show:0})}},{key:"cancel",value:function(){location.href="#/me/admin"}},{key:"render",value:function(){setTitle("关联手机");var e,t,n,r=(n="both",(t="clear")in(e={textAlign:"left",color:"red",clear:"left",fontSize:"12px",margin:"3px"})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e);return React.createElement("form",{style:{margin:"0 auto",width:"100%"}},React.createElement("table",{style:{width:"100%",marginTop:"20px"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{width:"40px",textAlign:"center",height:"50px"}},React.createElement("span",{style:{borderRadius:"3px",padding:"10px",fontSize:"16px",fontWeight:"bold"}})),React.createElement("td",{style:{textAlign:"center"}},React.createElement("span",{style:{fontSize:"20px",fontWeight:"bold"}},"关联手机")),React.createElement("td",{style:{width:"40px",textAlign:"center",height:"50px"}},React.createElement("span",{style:{borderRadius:"3px",padding:"10px",fontSize:"16px",fontWeight:"bold"}}))))),React.createElement("div",{style:{padding:"10px",display:1==this.state.connect_mobile_show?"block":"none"}},React.createElement("table",{style:{width:"100%",padding:"3px",marginTop:"10px",border:"0px #ccc solid",borderRadius:"0px"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{height:"50px",width:"100%",textAlign:"center"}},"你的用户账号已关联手机",this.state.connected_mobile)),React.createElement("tr",null,React.createElement("td",{style:{height:"60px"}},React.createElement("button",{onTouchEnd:this.mobile_change,style:{display:"inline-block",cursor:"pointer",marginTop:"20px",width:"100%",height:"40px",lineHeight:"40px",border:"1px indianred solid",borderRadius:"20px",backgroundColor:"palegreen"}},React.createElement("span",{style:{borderRadius:"3px",padding:"10px"}},"更改关联手机"))))))),React.createElement("div",{style:{padding:"10px",display:1==this.state.connect_mobile_show?"none":"block"}},React.createElement("table",{style:{width:"100%",padding:"3px",marginTop:"10px",border:"1px #ccc solid",borderRadius:"5px"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{width:"60px",textAlign:"center"}},"+ 86 ",React.createElement("font",{style:{fontSize:"10px"}},"▼")),React.createElement("td",null,React.createElement("input",{type:"tel",maxLength:"11",style:{width:"100%",height:"40px",border:"0px solid #ccc",borderRadius:"5px"},placeholder:"请输入手机号码",value:this.state.reg_mobile,onChange:this.reg_mobile}),React.createElement("em",{className:this.state.errShow.reg_mobile?"show":"hide",style:r},this.state.inputed.reg_mobile||0,"/11  ",this.state.ErrorMsg.reg_mobile))))),React.createElement("table",{style:{width:"100%",padding:"3px",marginTop:"10px",border:"1px #ccc solid",borderRadius:"5px"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",null,React.createElement("input",{id:"reg_vericode",maxLength:"4",type:"number",name:"Reg[veriCode]",disabled:this.state.reg_vericode_disabled,style:{width:"100%",height:"40px",border:"0px"},placeholder:"请输入验证码",value:this.state.reg_vericode,onChange:this.reg_vericode})),React.createElement("td",{id:"vericodeTd",style:{width:"135px",textAlign:"center",backgroundColor:this.state.vericodeTd}},React.createElement("button",{disabled:this.state.send_vericode_disabled,onTouchEnd:this.send_vericode},React.createElement("span",null,this.state.vericharSpan),React.createElement("span",{style:{display:this.state.veriShow}},"(",React.createElement("span",null,this.state.maxtime),")秒")))))),React.createElement("table",{id:"passDiv",style:{display:this.state.passDivShow,width:"100%",padding:"3px",marginTop:"10px",border:"0px #ccc solid",borderRadius:"0px"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{height:"50px",width:"100%"}},React.createElement("input",{type:"password",minLength:"6",maxLength:"20",placeholder:"登录密码",style:{display:"block",width:"100%",height:"40px",lineHeight:"40px",border:"1px solid #ccc",borderRadius:"0px"},value:this.state.password,onChange:this.changePassword}),React.createElement("em",{className:this.state.errShow.password?"show":"hide",style:r},this.state.inputed.password||0,"/20  ",this.state.ErrorMsg.password))),React.createElement("tr",null,React.createElement("td",{style:{height:"60px"}},React.createElement("input",{type:"password",minLength:"6",maxLength:"20",placeholder:"确认密码",style:{width:"100%",height:"40px",lineHeight:"40px",border:"1px solid #ccc",borderRadius:"0px"},value:this.state.veriPassword,onChange:this.changeVeriPassword}),React.createElement("em",{className:this.state.errShow.veriPassword?"show":"hide",style:r},this.state.inputed.veriPassword||0,"/20  ",this.state.ErrorMsg.veriPassword))),React.createElement("tr",null,React.createElement("td",{style:{height:"60px"}},React.createElement("button",{disabled:this.state.submit_disabled,onTouchEnd:this.mobile_submit,style:{display:"inline-block",cursor:"pointer",marginTop:"20px",width:"100%",height:"40px",lineHeight:"40px",border:"1px indianred solid",borderRadius:"20px",backgroundColor:this.state.submitColor}},React.createElement("span",{style:{borderRadius:"3px",padding:"10px"}},"提 交"))))))),React.createElement("table",{style:{width:"100%",padding:"3px",marginTop:"10px",border:"0px #ccc solid",borderRadius:"0px"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{height:"60px",padding:"15px"}},React.createElement("button",{onTouchEnd:this.cancel,style:{display:"inline-block",cursor:"pointer",marginTop:"20px",width:"100%",height:"40px",lineHeight:"40px",border:"1px indianred solid",borderRadius:"20px",backgroundColor:"palegreen"}},React.createElement("span",{style:{borderRadius:"3px",padding:"10px"}},"关闭")))))))}}])&&C(n.prototype,r),a&&C(n,a),t}();function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var W=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),z(this,U(t).call(this,e))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,React.Component),n=t,(r=[{key:"componentDidMount",value:function(){var e=Config.api+"site/logout";fetchApi({url:e},function(e){if(console.log(e),!isJson(e))return errMessage("","服务器文件错误！"),!1;resultAlert(e),200==e.result&&(token=null,clearCookie("token"),socket.emit("leave"),location.href="/im")}.bind(this))}},{key:"render",value:function(){return setTitle("管理界面"),null}}])&&I(n.prototype,r),a&&I(n,a),t}();function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var G=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),J(this,V(t).call(this,e))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,React.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.item,t=e.avatar?e.avatar:e.userid;return React.createElement("tr",{style:{borderBottom:"1px solid #eee"}},React.createElement("td",null,e.userid),React.createElement("td",null,React.createElement("img",{src:thumbUrl+"/topuserphotos/"+t+".jpg",style:{width:"50px"}})),React.createElement("td",{style:{color:1==e.usersex?"#333":"red",wordBreak:"break-all"}},e.username),React.createElement("td",null,e.workcity),React.createElement("td",null,e.totalref),React.createElement("td",{style:{width:"90px",verticalAlign:"middle",textAlign:"center",paddingRight:"10px",cursor:"pointer"}},e.joindate))}}])&&F(n.prototype,r),a&&F(n,a),t}();function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee=function(e){function t(e){var n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=q(t).call(this,e),n=!a||"object"!==$(a)&&"function"!=typeof a?K(r):a,Z(K(n),"loadData",function(e,t){var r;"up"==t||n.state.p;var a="";n.state.userName&&(a=/^\d*$/.test(n.state.userName)?"userid="+n.state.userName+"&":"userName="+n.state.userName+"&"),r=Config.api+"user/myrecommends?"+a+"p="+n.state.p+"&limit="+n.state.limit,fetchApi({url:r},function(e){if(!isJson(e))return alertMsg("","服务器文件错误！"),!1;var t;200==e.status?(e.users&&e.users.length<1&&(this.state.p>=1?this.setState({lastPage:!0}):this.setState({lastPage:!1})),t=this.state.p>=1?this.state.users.concat(e.users):e.users,this.setState({p:this.state.p+1,users:t}),this.state.users&&this.state.users.length<1?this.setState({noDataShow:1}):this.setState({noDataShow:0})):alertMsg(e)}.bind(K(n)))}),Z(K(n),"handleScroll",function(e){wait(500).done(function(){if(scroll2Bottom(this)){if(0==this.state.p&&this.setState({p:1}),this.state.lastPage)return!1;this.loadData()}}.bind(K(n)))}),Z(K(n),"handleSearch",function(e){return n.setState({p:0},function(){this.state.userName&&this.state.userName.length>0&&this.loadData({username:this.state.userName},"search")}),!1}),Z(K(n),"handleChange",function(e){n.setState({userName:e.target.value})});var o="";return n.props.params&&n.props.params.storeid&&(o=n.props.params.storeid),n.state={p:0,limit:10,userName:null,noDataShow:0,storeid:o,lastPage:!1,paycertified:1,intro:"",adminUserid:null,adminUserIntroShowTable:"none",adminUserShowTable:"none",itemIndex:null,users:[]},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(t,React.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){if(!this.state.users)return null;setTitle("我推荐的会员");var e=this.state.users?this.state.users.map(function(e,t){return React.createElement(G,{key:t,itemIndex:t,item:e})}.bind(this)):null;return React.createElement("div",{ref:"main",onTouchMove:this.handleScroll.bind(this)},React.createElement("div",{className:"searchBlock",style:{width:"100%",marginTop:"5px"}},React.createElement("table",{className:"searchIconShow",style:{width:"100%"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"searchShowDiv",style:{paddingLeft:"5px"}},React.createElement("input",{name:"username",ref:"search",placeholder:"输入会员ID号或会员名搜索",value:this.state.userName,onChange:this.handleChange,style:{width:"98%",height:"30px"}})),React.createElement("td",{style:{width:"60px",textAlign:"center"},onTouchEnd:this.handleSearch},React.createElement("button",{className:"btn-info",style:{width:"60px",height:"35px"}},"搜索")))))),React.createElement("div",{id:"wrapper",style:{overflowY:"auto",paddingLeft:"5px"}},React.createElement("table",{style:{width:"100%",border:"0px",marginTop:"3px"}},React.createElement("tbody",null,React.createElement("tr",{style:{height:"30px",lineHeight:"30px"}},React.createElement("td",null,"ID"),React.createElement("td",null,"头像"),React.createElement("td",null,"会员名"),React.createElement("td",{style:{width:"57px"}},"所在地"),React.createElement("td",{style:{width:"30px"}},"下级"),React.createElement("td",{style:{width:"90px",textAlign:"center"}},"加入日期")),e)),React.createElement("table",{style:{zIndex:"10000",position:"fixed",bottom:"0px",width:"100%",backgroundColor:"darkgreen"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{textAlign:"center",height:"35px",lineHeight:"35px"}},React.createElement("span",{style:{padding:"3px",color:"white"},onTouchEnd:touchEnd.bind(this,"#/me/refuser")},"关闭")))))),React.createElement("div",{ref:"bottom",style:{height:"30px"}}),React.createElement("div",{className:this.state.noDataShow?"show":"hide",style:{position:"relative",height:"100%",backgroundColor:"white",border:"1px solid white"}},React.createElement("div",{className:"orderLst",style:{border:"0px",marginTop:"100px"}},React.createElement("div",{style:{textAlign:"center",height:"100%"}},React.createElement("label",null,"暂无数据！")))),React.createElement("div",{className:this.state.lastPage?"show":"hide",style:{position:"relative",top:"2px"}},React.createElement("div",{className:"orderLst",style:{border:"0px"}},React.createElement("div",{style:{textAlign:"center"}},React.createElement("label",null,"已到最后一页！")))))}}])&&X(n.prototype,r),a&&X(n,a),t}();function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ie=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),re(this,ae(t).call(this,e))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(t,React.Component),n=t,(r=[{key:"showChatDiv",value:function(e){function t(t,n,r,a){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t,n,r){showChatDiv(e,t,n,r)})},{key:"render",value:function(){var e=this.props.item;return React.createElement("tr",{style:{height:"60px",borderBottom:"1px #eee solid"}},React.createElement("td",{style:{width:"60px",verticalAlign:"top",textAlign:"center"}},React.createElement(Img,{src:thumbUrl+"/topstorephotos/"+e.id+".jpg",style:{width:"50px",height:"50px",borderRadius:"6px"}})),React.createElement("td",null,React.createElement("table",{style:{width:"100%"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",null,React.createElement("div",{style:{dispay:"block",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",width:"230px",fontSize:"14px",fontWeight:"bold"}},React.createElement("span",{onTouchEnd:touchEnd.bind(this,"#/stores/detail/"+e.id),style:{color:"#000",fontWeight:"bold",fontSize:"14px"}},e.store_name)))))),React.createElement("table",{style:{width:"100%"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",null,React.createElement("div",{style:{dispay:"block",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",width:"250px",maxWidth:"250px"}},React.createElement("span",null,e.province,e.city,e.district,e.town))))))),React.createElement("td",{style:{width:"60px",verticalAlign:"middle",fontSize:"12px",color:"#999"}},e.store_username))}}])&&ne(n.prototype,r),a&&ne(n,a),t}();function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var he=function(e){function t(e){var n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=se(t).call(this,e),n=!a||"object"!==le(a)&&"function"!=typeof a?ue(r):a,pe(ue(n),"loadData",function(e,t){var r;"up"==t||n.state.p;var a="";n.state.groupName&&(a=/^\d*$/.test(n.state.groupName)?"id="+n.state.groupName+"&":"groupName="+n.state.groupName+"&"),r=Config.api+"store/MyRecommendsList?"+a+"p="+n.state.p+"&limit="+n.state.limit,fetchApi({url:r},function(e){if(!isJson(e))return errMessage("","服务器文件错误！"),!1;var t;this.isMounted()&&(1==e.status&&resultAlert("没有数据记录！"),200==e.status?(e.stores.length<1&&(this.state.p>=1?this.setState({lastPage:!0}):this.setState({lastPage:!1})),t=this.state.p>=1?this.state.stores.concat(e.stores):e.stores,this.setState({p:this.state.p+1,stores:t}),this.state.stores.length<1?this.setState({noDataShow:1}):this.setState({noDataShow:0})):errMessage(e))}.bind(ue(n))).error(function(e,t,n){errMessage("网络或服务器文件错误！")}.bind(ue(n)))}),pe(ue(n),"handleScroll",function(e){wait(500).done(function(){if(scroll2Bottom(this)){if(0==this.state.p&&this.setState({p:1}),this.state.lastPage)return!1;this.loadData()}}.bind(ue(n)))}),pe(ue(n),"handleSearch",function(e){return n.setState({p:0},function(){this.loadData({groupName:this.state.groupName},"search")}),!1}),pe(ue(n),"showSearchDiv",function(){var e="none"==n.state.searchDivShow?"table":"none";n.setState({searchDivShow:e})}),pe(ue(n),"handleChange",function(e){n.setState({groupName:e.target.value})});var o="";return n.props.params&&n.props.params.storeId&&(o=n.props.params.storeId),n.state={p:0,limit:10,groupName:null,noDataShow:0,storeId:o,lastPage:!1,searchDivShow:"none"},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(t,React.Component),n=t,(r=[{key:"componentDidMount",value:function(){var e=parseInt(window.screen.width)>450?450:.99*parseInt(window.screen.width);this.setState({phoneWidth:e}),this.loadData()}},{key:"render",value:function(){if(setTitle("我的业务店家列表"),!this.state.stores)return!1;var e=this.state.stores.map(function(e,t){return React.createElement(ie,{key:t,item:e,phoneWidth:this.state.phoneWidth})}.bind(this));return React.createElement("div",{ref:"main",onTouchMove:this.handleScroll.bind(this)},React.createElement("div",{className:"searchBlock",style:{width:"100%",height:"10px",backgroundColor:"#eee"}}),React.createElement("div",{id:"wrapper",style:{backgroundColor:"#eee"}},React.createElement("table",{style:{width:"100%",marginTop:"5px",backgroundColor:"white"}},React.createElement("tbody",null,e))),React.createElement("div",{ref:"bottom",style:{height:"70px"}}),React.createElement("div",{className:this.state.noDataShow?"show":"hide",style:{position:"relative",height:"100%",backgroundColor:"white",border:"1px solid white"}},React.createElement("div",{className:"orderLst",style:{border:"0px",marginTop:"100px"}},React.createElement("div",{style:{textAlign:"center",height:"100%"}},React.createElement("label",null,"暂无数据！")))),React.createElement("div",{className:this.state.lastPage?"show":"hide",style:{position:"relative",top:"2px"}},React.createElement("div",{className:"orderLst",style:{border:"0px"}},React.createElement("div",{style:{textAlign:"center"}},React.createElement("label",null,"已到最后一页！")))))}}])&&ce(n.prototype,r),a&&ce(n,a),t}();function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t){return!t||"object"!==me(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ee=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),be(this,ye(t).call(this,e))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(t,React.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.item;return React.createElement("tr",{style:{height:"60px",borderBottom:"1px #eee solid",color:"#999"}},React.createElement("td",{style:{textAlign:"center",borderRight:"1px #eee solid",width:"80px"}},e.create_time),React.createElement("td",{style:{textAlign:"center",borderRight:"1px #eee solid",width:"80px"}},e.payer_username,React.createElement("br",null),"->",e.pay_type,React.createElement("br",null),e.username),React.createElement("td",{style:{textAlign:"center",borderRight:"1px #eee solid"}},e.amount),React.createElement("td",{style:{textAlign:"left",padding:"10px",borderRight:"1px #eee solid"}},React.createElement("span",null,e.username),React.createElement("span",null,e.user_amount,"元"),React.createElement("br",null),React.createElement("span",null,e.ref1_username),React.createElement("span",null,e.ref1_amount,"元"),React.createElement("br",null),React.createElement("span",null,e.ref2_username),React.createElement("span",null,e.ref2_amount,"元")))}}])&&fe(n.prototype,r),a&&fe(n,a),t}();function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Se={Admin:s,Addmobile:M,Refuser:j,Groups:v,Logout:W,Myrecommends:ee,Myrecommendstores:he,Myrecommendcashlogs:function(e){function t(e){var n,r,a,o,i,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=ve(t).call(this,e),n=!a||"object"!==Re(a)&&"function"!=typeof a?we(r):a,o=we(n),l=function(){var e=Config.api+"cashlog/myrefincomes";fetchApi({url:e},function(e){if(!isJson(e))return alertMsg("服务器文件错误！"),!1;2==e.result?this.setState({cash_logs:e.cash_logs}):resultAlert(e)}.bind(we(n)))},(i="selectType")in o?Object.defineProperty(o,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[i]=l,n.state={id:n.props.id,cash_logs:[]},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(t,React.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.selectType()}},{key:"render",value:function(){if(!this.state.cash_logs)return null;setTitle("收入记录");var e;return e=this.state.cash_logs?this.state.cash_logs.map(function(e,t){return React.createElement(Ee,{key:t,item:e,id:e.id})}):null,React.createElement("div",null,React.createElement("table",{style:{width:"100%",marginTop:"5px",backgroundColor:"white"}},React.createElement("tbody",null,React.createElement("tr",{style:{border:"1px #eee solid",height:"30px"}},React.createElement("td",{style:{width:"80px",textAlign:"center",borderRight:"1px #eee solid"}},"日期"),React.createElement("td",{style:{width:"80px",textAlign:"center",borderRight:"1px #eee solid"}},"支付用户"),React.createElement("td",{style:{width:"80px",textAlign:"center"}},"金额(元)"),React.createElement("td",{style:{textAlign:"center",borderRight:"1px #eee solid"}},"收入分配")),e)),React.createElement("table",{style:{zIndex:"10000",position:"fixed",bottom:"0px",width:"100%",backgroundColor:"darkgreen"}},React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{style:{textAlign:"center",height:"35px",lineHeight:"35px"}},React.createElement("span",{style:{padding:"3px",color:"white"},onTouchEnd:touchEnd.bind(this,"#/me/refuser")},"关闭"))))))}}])&&xe(n.prototype,r),a&&xe(n,a),t}()};t.default=Se}])});